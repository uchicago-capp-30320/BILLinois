
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="../04-signing_up_and_logging_in/" rel="prev"/>
<link href="../endpoints/auth/" rel="next"/>
<link href="../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.6.14" name="generator"/>
<title>Postgres Tables - BILLinois</title>
<link href="../assets/stylesheets/main.342714a4.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<link href="../assets/_mkdocstrings.css" rel="stylesheet"/>
<script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#postgres-tables">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--shadow" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="BILLinois" class="md-header__button md-logo" data-md-component="logo" href=".." title="BILLinois">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            BILLinois
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Postgres Tables
            
          </span>
</div>
</div>
</div>
<script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="BILLinois" class="md-nav__button md-logo" data-md-component="logo" href=".." title="BILLinois">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg>
</a>
    BILLinois
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="..">
<span class="md-ellipsis">
    BILLinois Documentation
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../01-architecture/">
<span class="md-ellipsis">
    Architecture
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../02-django-setup/">
<span class="md-ellipsis">
    Getting Set Up With Django
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../03-schema-updates/">
<span class="md-ellipsis">
    Updating Django Models and Database Schema
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../04-signing_up_and_logging_in/">
<span class="md-ellipsis">
    Signing Up and Logging In
    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    Postgres Tables
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    Postgres Tables
    
  </span>
</a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#users">
<span class="md-ellipsis">
      Users
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#actions">
<span class="md-ellipsis">
      Actions
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#bills">
<span class="md-ellipsis">
      Bills
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#favorites">
<span class="md-ellipsis">
      Favorites
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#sponsors">
<span class="md-ellipsis">
      Sponsors
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#topics">
<span class="md-ellipsis">
      Topics
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#updates">
<span class="md-ellipsis">
      Updates
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#most-recent-upload">
<span class="md-ellipsis">
      Most Recent Upload
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#user-notification-queue">
<span class="md-ellipsis">
      User Notification Queue
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
<span class="md-ellipsis">
    Endpoints
    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_7_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_7">
<span class="md-nav__icon md-icon"></span>
            Endpoints
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../endpoints/auth/">
<span class="md-ellipsis">
    Authorization Endpoints
    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../endpoints/core/">
<span class="md-ellipsis">
    Core App Endpoints
    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#users">
<span class="md-ellipsis">
      Users
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#actions">
<span class="md-ellipsis">
      Actions
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#bills">
<span class="md-ellipsis">
      Bills
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#favorites">
<span class="md-ellipsis">
      Favorites
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#sponsors">
<span class="md-ellipsis">
      Sponsors
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#topics">
<span class="md-ellipsis">
      Topics
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#updates">
<span class="md-ellipsis">
      Updates
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#most-recent-upload">
<span class="md-ellipsis">
      Most Recent Upload
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#user-notification-queue">
<span class="md-ellipsis">
      User Notification Queue
    </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="postgres-tables">Postgres Tables</h1>
<div class="mermaid">erDiagram
    USERS 1 to zero or more FAVORITES : has
    FAVORITES zero or more to 1 BILLS : marks
    SPONSORS one or more to one or more BILLS : introduces
    BILLS 1 to one or more ACTIONS : has
    BILLS zero or more to zero or more TOPICS : has
    UPDATES 1 to 1 BILLS : has
    USER_NOTIFICATION_QUEUE 1 to 1 USERS : has
    MOST_RECENT_UPLOAD
</div>
<p>Note: Django auto-creates an <code>id</code> primary key if one does not already exist in the table.</p>
<h2 id="users">Users</h2>
<div class="doc doc-object doc-class">
<div class="doc doc-contents first">
<p class="doc doc-class-bases">
              Bases: <code><span title="django.contrib.auth.models.AbstractBaseUser">AbstractBaseUser</span></code>, <code><span title="django.contrib.auth.models.PermissionsMixin">PermissionsMixin</span></code></p>
<details class="a-modification-of-the-built-in-django-user-that" open="">
<summary>A modification of the built-in Django user that</summary>
<ul>
<li>switches first_name &amp; last_name for username &amp; full_name</li>
<li>keeps other admin-compliant options</li>
</ul>
</details> <p>Has connections from:</p>
<ul>
<li>Favorites</li>
</ul>
<p><span class="doc-section-title">Attributes:</span></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="doc-section-item">
<td><code><span title="apps.accounts.models.User.email">email</span></code></td>
<td>
<code>(<span title="Email">Email</span>, <span title="unique">unique</span>)</code>
</td>
<td>
<div class="doc-md-description">
<p>This doubles as the username.</p>
</div>
</td>
</tr>
<tr class="doc-section-item">
<td><code><span title="apps.accounts.models.User.phone">phone</span></code></td>
<td>
<code><span title="Varchar">Varchar</span></code>
</td>
<td>
<div class="doc-md-description">
<p>User's phone number, used for notifications and dual authentication.</p>
</div>
</td>
</tr>
<tr class="doc-section-item">
<td><code><span title="apps.accounts.models.User.phone_verified">phone_verified</span></code></td>
<td>
<code><span title="Boolean">Boolean</span></code>
</td>
<td>
<div class="doc-md-description">
<p>Indicates whether the user's phone number is verified.</p>
</div>
</td>
</tr>
<tr class="doc-section-item">
<td><code><span title="apps.accounts.models.User.username">username</span></code></td>
<td>
<code>(<span title="Varchar">Varchar</span>, <span title="unique">unique</span>)</code>
</td>
<td>
<div class="doc-md-description">
<p>User's username, used for login and identification.</p>
</div>
</td>
</tr>
<tr class="doc-section-item">
<td><code><span title="apps.accounts.models.User.full_name">full_name</span></code></td>
<td>
<code><span title="Varchar">Varchar</span></code>
</td>
<td>
<div class="doc-md-description">
<p>User's full name, used for display purposes.</p>
</div>
</td>
</tr>
<tr class="doc-section-item">
<td><code><span title="apps.accounts.models.User.is_staff">is_staff</span></code></td>
<td>
<code><span title="Boolean">Boolean</span></code>
</td>
<td>
<div class="doc-md-description">
<p>Indicates whether the user can log into the admin site.</p>
</div>
</td>
</tr>
<tr class="doc-section-item">
<td><code><span title="apps.accounts.models.User.is_active">is_active</span></code></td>
<td>
<code><span title="Boolean">Boolean</span></code>
</td>
<td>
<div class="doc-md-description">
<p>Indicates whether the user is active. Unselect this instead of deleting accounts.</p>
</div>
</td>
</tr>
<tr class="doc-section-item">
<td><code><span title="apps.accounts.models.User.is_subscribed">is_subscribed</span></code></td>
<td>
<code><span title="Boolean">Boolean</span></code>
</td>
<td>
<div class="doc-md-description">
<p>Indicates whether the user is subscribed to notifications.</p>
</div>
</td>
</tr>
<tr class="doc-section-item">
<td><code><span title="apps.accounts.models.User.date_joined">date_joined</span></code></td>
<td>
<code><span title="DateTime">DateTime</span></code>
</td>
<td>
<div class="doc-md-description">
<p>The date and time when the user joined the platform.</p>
</div>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>apps\accounts\models.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 27</span>
<span class="normal"> 28</span>
<span class="normal"> 29</span>
<span class="normal"> 30</span>
<span class="normal"> 31</span>
<span class="normal"> 32</span>
<span class="normal"> 33</span>
<span class="normal"> 34</span>
<span class="normal"> 35</span>
<span class="normal"> 36</span>
<span class="normal"> 37</span>
<span class="normal"> 38</span>
<span class="normal"> 39</span>
<span class="normal"> 40</span>
<span class="normal"> 41</span>
<span class="normal"> 42</span>
<span class="normal"> 43</span>
<span class="normal"> 44</span>
<span class="normal"> 45</span>
<span class="normal"> 46</span>
<span class="normal"> 47</span>
<span class="normal"> 48</span>
<span class="normal"> 49</span>
<span class="normal"> 50</span>
<span class="normal"> 51</span>
<span class="normal"> 52</span>
<span class="normal"> 53</span>
<span class="normal"> 54</span>
<span class="normal"> 55</span>
<span class="normal"> 56</span>
<span class="normal"> 57</span>
<span class="normal"> 58</span>
<span class="normal"> 59</span>
<span class="normal"> 60</span>
<span class="normal"> 61</span>
<span class="normal"> 62</span>
<span class="normal"> 63</span>
<span class="normal"> 64</span>
<span class="normal"> 65</span>
<span class="normal"> 66</span>
<span class="normal"> 67</span>
<span class="normal"> 68</span>
<span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">User</span><span class="p">(</span><span class="n">AbstractBaseUser</span><span class="p">,</span> <span class="n">PermissionsMixin</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    A modification of the built-in Django user that:</span>
<span class="sd">        - switches first_name &amp; last_name for username &amp; full_name</span>
<span class="sd">        - keeps other admin-compliant options</span>

<span class="sd">    Has connections from:</span>

<span class="sd">    - Favorites</span>

<span class="sd">    Attributes:</span>
<span class="sd">        email (Email, unique): This doubles as the username.</span>
<span class="sd">        phone (Varchar): User's phone number, used for notifications and dual authentication.</span>
<span class="sd">        phone_verified (Boolean): Indicates whether the user's phone number is verified.</span>
<span class="sd">        username (Varchar, unique): User's username, used for login and identification.</span>
<span class="sd">        full_name (Varchar): User's full name, used for display purposes.</span>
<span class="sd">        is_staff (Boolean): Indicates whether the user can log into the admin site.</span>
<span class="sd">        is_active (Boolean): Indicates whether the user is active. Unselect this instead of deleting accounts.</span>
<span class="sd">        is_subscribed (Boolean): Indicates whether the user is subscribed to notifications.</span>
<span class="sd">        date_joined (DateTime): The date and time when the user joined the platform.</span>
<span class="sd">    """</span>

    <span class="n">username_validator</span> <span class="o">=</span> <span class="n">UnicodeUsernameValidator</span><span class="p">()</span>

    <span class="n">email</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">EmailField</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">"email address"</span><span class="p">),</span> <span class="n">unique</span><span class="o">=</span><span class="n">EMAIL_REQUIRED</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s2">""</span><span class="p">)</span>
    <span class="n">phone</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span>
        <span class="n">_</span><span class="p">(</span><span class="s2">"phone number"</span><span class="p">),</span>
        <span class="n">max_length</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>
        <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">unique</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="n">phone_verified</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">BooleanField</span><span class="p">(</span>
        <span class="n">_</span><span class="p">(</span><span class="s2">"phone verified"</span><span class="p">),</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">help_text</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s2">"Designates whether this user's phone number is verified."</span><span class="p">),</span>
    <span class="p">)</span>

    <span class="n">username</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span>
        <span class="n">max_length</span><span class="o">=</span><span class="mi">255</span><span class="p">,</span>
        <span class="n">unique</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">validators</span><span class="o">=</span><span class="p">[</span><span class="n">username_validator</span><span class="p">]</span> <span class="k">if</span> <span class="n">USERNAME_REQUIRED</span> <span class="k">else</span> <span class="p">[],</span>
        <span class="n">default</span><span class="o">=</span><span class="s2">""</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">full_name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">"full name"</span><span class="p">),</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">150</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">is_staff</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">BooleanField</span><span class="p">(</span>
        <span class="n">_</span><span class="p">(</span><span class="s2">"staff status"</span><span class="p">),</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">help_text</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s2">"Designates whether the user can log into this admin site."</span><span class="p">),</span>
    <span class="p">)</span>
    <span class="n">is_active</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">BooleanField</span><span class="p">(</span>
        <span class="n">_</span><span class="p">(</span><span class="s2">"active"</span><span class="p">),</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">help_text</span><span class="o">=</span><span class="n">_</span><span class="p">(</span>
            <span class="s2">"Designates whether this user should be treated as active. "</span>
            <span class="s2">"Unselect this instead of deleting accounts."</span>
        <span class="p">),</span>
    <span class="p">)</span>

    <span class="n">is_subscribed</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">BooleanField</span><span class="p">(</span>
        <span class="n">_</span><span class="p">(</span><span class="s2">"subscribed"</span><span class="p">),</span>
        <span class="n">default</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">help_text</span><span class="o">=</span><span class="n">_</span><span class="p">(</span><span class="s2">"Designates whether the user is subscribed to notifications."</span><span class="p">),</span>
    <span class="p">)</span>

    <span class="n">date_joined</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">(</span><span class="n">_</span><span class="p">(</span><span class="s2">"date joined"</span><span class="p">),</span> <span class="n">default</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">now</span><span class="p">)</span>

    <span class="n">objects</span> <span class="o">=</span> <span class="n">OkUserManager</span><span class="p">()</span>

    <span class="n">EMAIL_FIELD</span> <span class="o">=</span> <span class="s2">"email"</span>
    <span class="n">USERNAME_FIELD</span> <span class="o">=</span> <span class="s2">"username"</span> <span class="k">if</span> <span class="n">USERNAME_REQUIRED</span> <span class="k">else</span> <span class="s2">"email"</span>
    <span class="n">REQUIRED_FIELDS</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">class</span><span class="w"> </span><span class="nc">Meta</span><span class="p">:</span>
        <span class="n">verbose_name</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">"user"</span><span class="p">)</span>
        <span class="n">verbose_name_plural</span> <span class="o">=</span> <span class="n">_</span><span class="p">(</span><span class="s2">"users"</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">clean</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">clean</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">email</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">normalize_email</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">email</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">EMAIL_REQUIRED</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">username</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">username</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">email</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_short_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">username</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_full_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">full_name</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">email_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">subject</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">from_email</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">send_mail</span><span class="p">(</span><span class="n">subject</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">from_email</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">email</span><span class="p">],</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
</details>
<div class="doc doc-children">
</div>
</div>
</div><h2 id="actions">Actions</h2>
<div class="doc doc-object doc-class">
<div class="doc doc-contents first">
<p class="doc doc-class-bases">
              Bases: <code><span title="django.db.models.Model">Model</span></code></p>
<p>Stores each distinct action taken on a bill, e.g., ("First Reading").
Represented by a one-to-many relationship between bill and actions.</p>
<p>This table is queried by frontend views that show bill information, such
as most recent action. Additionally, it will be queried by the
notification system, which updates users about favorited bills that have
had a significant action associated with them in the past 24 hours.</p>
<p>Connects to:</p>
<ul>
<li>Bills (on bill_id ForeignKey)</li>
</ul>
<p><span class="doc-section-title">Attributes:</span></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="doc-section-item">
<td><code><span title="apps.core.models.ActionsTable.action_id">action_id</span></code></td>
<td>
<code>(<span title="Varchar">Varchar</span>, <span title="PrimaryKey">PrimaryKey</span>, <span title="unique">unique</span>)</code>
</td>
<td>
<div class="doc-md-description">
<p>Unique identifier for the action.</p>
</div>
</td>
</tr>
<tr class="doc-section-item">
<td><code><span title="apps.core.models.ActionsTable.bill_id">bill_id</span></code></td>
<td>
<code><span title="ForeignKey">ForeignKey</span></code>
</td>
<td>
<div class="doc-md-description">
<p><code>bill_id</code> from the bills table for the bill associated with this action.</p>
</div>
</td>
</tr>
<tr class="doc-section-item">
<td><code><span title="apps.core.models.ActionsTable.description">description</span></code></td>
<td>
<code><span title="Varchar">Varchar</span></code>
</td>
<td>
<div class="doc-md-description">
<p>Description of the action, e.g., ("First Reading").</p>
</div>
</td>
</tr>
<tr class="doc-section-item">
<td><code><span title="apps.core.models.ActionsTable.date">date</span></code></td>
<td>
<code><span title="Timestamp">Timestamp</span></code>
</td>
<td>
<div class="doc-md-description">
<p>Date of the action.</p>
</div>
</td>
</tr>
<tr class="doc-section-item">
<td><code><span title="apps.core.models.ActionsTable.category">category</span></code></td>
<td>
<code>(<span title="Varchar">Varchar</span>, <span title="nullable">nullable</span>)</code>
</td>
<td>
<div class="doc-md-description">
<p>Category of the action. Used to group actions into broader types for
tracking bill status.</p>
</div>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>apps\core\models.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">ActionsTable</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Stores each distinct action taken on a bill, e.g., ("First Reading").</span>
<span class="sd">    Represented by a one-to-many relationship between bill and actions.</span>

<span class="sd">    This table is queried by frontend views that show bill information, such</span>
<span class="sd">    as most recent action. Additionally, it will be queried by the</span>
<span class="sd">    notification system, which updates users about favorited bills that have</span>
<span class="sd">    had a significant action associated with them in the past 24 hours.</span>

<span class="sd">    Connects to:</span>

<span class="sd">    - Bills (on bill_id ForeignKey)</span>

<span class="sd">    Attributes:</span>
<span class="sd">        action_id (Varchar, PrimaryKey, unique):</span>
<span class="sd">            Unique identifier for the action.</span>
<span class="sd">        bill_id (ForeignKey):</span>
<span class="sd">            `bill_id` from the bills table for the bill associated with this action.</span>
<span class="sd">        description (Varchar): Description of the action, e.g., ("First Reading").</span>
<span class="sd">        date (Timestamp): Date of the action.</span>
<span class="sd">        category (Varchar, nullable):</span>
<span class="sd">            Category of the action. Used to group actions into broader types for</span>
<span class="sd">            tracking bill status.</span>
<span class="sd">    """</span>

    <span class="n">action_id</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">unique</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">db_column</span><span class="o">=</span><span class="s2">"action_id"</span><span class="p">)</span>
    <span class="n">bill_id</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">"BillsTable"</span><span class="p">,</span> <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">CASCADE</span><span class="p">,</span> <span class="n">db_column</span><span class="o">=</span><span class="s2">"bill_id"</span><span class="p">)</span>
    <span class="n">description</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">()</span>
    <span class="n">date</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">()</span>
    <span class="n">category</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">chamber</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

    <span class="k">class</span><span class="w"> </span><span class="nc">Meta</span><span class="p">:</span>
        <span class="n">db_table</span> <span class="o">=</span> <span class="s2">"actions_table"</span>
        <span class="n">unique_together</span> <span class="o">=</span> <span class="p">(</span><span class="s2">"action_id"</span><span class="p">,</span> <span class="s2">"bill_id"</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
</details>
<div class="doc doc-children">
</div>
</div>
</div><h2 id="bills">Bills</h2>
<div class="doc doc-object doc-class">
<div class="doc doc-contents first">
<p class="doc doc-class-bases">
              Bases: <code><span title="django.db.models.Model">Model</span></code></p>
<p>Stores data for each bill.</p>
<p>This table is queried by frontend views that show bill information, such
as the search view and individual bill pages.</p>
<p>Has connections from:</p>
<ul>
<li>Actions</li>
<li>Favorites</li>
<li>Sponsors</li>
<li>Topics</li>
</ul>
<p><span class="doc-section-title">Attributes:</span></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="doc-section-item">
<td><code><span title="apps.core.models.BillsTable.bill_id">bill_id</span></code></td>
<td>
<code>(<span title="Varchar">Varchar</span>, <span title="PrimaryKey">PrimaryKey</span>, <span title="unique">unique</span>)</code>
</td>
<td>
<div class="doc-md-description">
<p>Unique identifier for the bill, sourced from OpenStates.</p>
</div>
</td>
</tr>
<tr class="doc-section-item">
<td><code><span title="apps.core.models.BillsTable.number">number</span></code></td>
<td>
<code><span title="Varchar">Varchar</span></code>
</td>
<td>
<div class="doc-md-description">
<p>Bill number used by the legislature.</p>
</div>
</td>
</tr>
<tr class="doc-section-item">
<td><code><span title="apps.core.models.BillsTable.title">title</span></code></td>
<td>
<code><span title="Varchar">Varchar</span></code>
</td>
<td>
<div class="doc-md-description">
<p>Official title of the bill.</p>
</div>
</td>
</tr>
<tr class="doc-section-item">
<td><code><span title="apps.core.models.BillsTable.state">state</span></code></td>
<td>
<code><span title="Varchar">Varchar</span></code>
</td>
<td>
<div class="doc-md-description">
<p>State where the bill is introduced.</p>
</div>
</td>
</tr>
<tr class="doc-section-item">
<td><code><span title="apps.core.models.BillsTable.session">session</span></code></td>
<td>
<code><span title="Varchar">Varchar</span></code>
</td>
<td>
<div class="doc-md-description">
<p>Legislative session in which the bill is introduced.</p>
</div>
</td>
</tr>
<tr class="doc-section-item">
<td><code><span title="apps.core.models.BillsTable.summary">summary</span></code></td>
<td>
<code><span title="Varchar">Varchar</span></code>
</td>
<td>
<div class="doc-md-description">
<p>Bill summary as sourced from OpenStates API.</p>
</div>
</td>
</tr>
<tr class="doc-section-item">
<td><code><span title="apps.core.models.BillsTable.status">status</span></code></td>
<td>
<code><span title="Varchar">Varchar</span></code>
</td>
<td>
<div class="doc-md-description">
<p>The latest action taken on the bill.</p>
</div>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>apps\core\models.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">BillsTable</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Stores data for each bill.</span>

<span class="sd">    This table is queried by frontend views that show bill information, such</span>
<span class="sd">    as the search view and individual bill pages.</span>

<span class="sd">    Has connections from:</span>

<span class="sd">    - Actions</span>
<span class="sd">    - Favorites</span>
<span class="sd">    - Sponsors</span>
<span class="sd">    - Topics</span>

<span class="sd">    Attributes:</span>
<span class="sd">        bill_id (Varchar, PrimaryKey, unique):</span>
<span class="sd">            Unique identifier for the bill, sourced from OpenStates.</span>
<span class="sd">        number (Varchar): Bill number used by the legislature.</span>
<span class="sd">        title (Varchar): Official title of the bill.</span>
<span class="sd">        state (Varchar): State where the bill is introduced.</span>
<span class="sd">        session (Varchar): Legislative session in which the bill is introduced.</span>
<span class="sd">        summary (Varchar): Bill summary as sourced from OpenStates API.</span>
<span class="sd">        status (Varchar): The latest action taken on the bill.</span>
<span class="sd">    """</span>

    <span class="n">bill_id</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">unique</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">number</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">()</span>
    <span class="n">title</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">()</span>
    <span class="n">state</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">()</span>
    <span class="n">session</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">()</span>
    <span class="n">summary</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">()</span>
    <span class="n">status</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">()</span>

    <span class="k">class</span><span class="w"> </span><span class="nc">Meta</span><span class="p">:</span>
        <span class="n">db_table</span> <span class="o">=</span> <span class="s2">"bills_table"</span>
</code></pre></div></td></tr></table></div>
</details>
<div class="doc doc-children">
</div>
</div>
</div><h2 id="favorites">Favorites</h2>
<div class="doc doc-object doc-class">
<div class="doc doc-contents first">
<p class="doc doc-class-bases">
              Bases: <code><span title="django.db.models.Model">Model</span></code></p>
<p>Stores data for user favorites of bills. Represents a many-to-many
relationship: one user can like many bills, one bill can be associated
with many users.</p>
<p>This table will be queried by frontend views that show users which bills
they have favorited. Additionally, this table will be used for the
automatic notification system that notifies users about updates from
bills they have favorited.</p>
<p>Connects to:</p>
<ul>
<li>Bills (on bill_id ForeignKey)</li>
<li>Users (on user_id ForeignKey)</li>
</ul>
<p><span class="doc-section-title">Attributes:</span></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="doc-section-item">
<td><code><span title="apps.core.models.FavoritesTable.id">id</span></code></td>
<td>
<code>(<span title="Bigint">Bigint</span>, <span title="PrimaryKey">PrimaryKey</span>)</code>
</td>
<td>
<div class="doc-md-description">
<p>Internal ID for a favorite.</p>
</div>
</td>
</tr>
<tr class="doc-section-item">
<td><code><span title="apps.core.models.FavoritesTable.bill_id">bill_id</span></code></td>
<td>
<code>(<span title="Varchar">Varchar</span>, <span title="ForeignKey">ForeignKey</span>)</code>
</td>
<td>
<div class="doc-md-description">
<p><code>bill_id</code> from the bills table for the bill favorited.</p>
</div>
</td>
</tr>
<tr class="doc-section-item">
<td><code><span title="apps.core.models.FavoritesTable.user_id">user_id</span></code></td>
<td>
<code>(<span title="Varchar">Varchar</span>, <span title="ForeignKey">ForeignKey</span>)</code>
</td>
<td>
<div class="doc-md-description">
<p><code>user_id</code> from the users table for the user favoriting the bill.</p>
</div>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>apps\core\models.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">FavoritesTable</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Stores data for user favorites of bills. Represents a many-to-many</span>
<span class="sd">    relationship: one user can like many bills, one bill can be associated</span>
<span class="sd">    with many users.</span>

<span class="sd">    This table will be queried by frontend views that show users which bills</span>
<span class="sd">    they have favorited. Additionally, this table will be used for the</span>
<span class="sd">    automatic notification system that notifies users about updates from</span>
<span class="sd">    bills they have favorited.</span>

<span class="sd">    Connects to:</span>

<span class="sd">    - Bills (on bill_id ForeignKey)</span>
<span class="sd">    - Users (on user_id ForeignKey)</span>

<span class="sd">    Attributes:</span>
<span class="sd">        id (Bigint, PrimaryKey): Internal ID for a favorite.</span>
<span class="sd">        bill_id (Varchar, ForeignKey):</span>
<span class="sd">            `bill_id` from the bills table for the bill favorited.</span>
<span class="sd">        user_id (Varchar, ForeignKey):</span>
<span class="sd">            `user_id` from the users table for the user favoriting the bill.</span>
<span class="sd">    """</span>

    <span class="n">user_id</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">User</span><span class="p">,</span> <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">CASCADE</span><span class="p">,</span> <span class="n">db_column</span><span class="o">=</span><span class="s2">"user_id"</span><span class="p">)</span>
    <span class="n">bill_id</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">"BillsTable"</span><span class="p">,</span> <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">CASCADE</span><span class="p">,</span> <span class="n">db_column</span><span class="o">=</span><span class="s2">"bill_id"</span><span class="p">)</span>

    <span class="k">class</span><span class="w"> </span><span class="nc">Meta</span><span class="p">:</span>
        <span class="n">db_table</span> <span class="o">=</span> <span class="s2">"favorites_table"</span>
        <span class="n">unique_together</span> <span class="o">=</span> <span class="p">(</span><span class="s2">"user_id"</span><span class="p">,</span> <span class="s2">"bill_id"</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
</details>
<div class="doc doc-children">
</div>
</div>
</div><h2 id="sponsors">Sponsors</h2>
<div class="doc doc-object doc-class">
<div class="doc doc-contents first">
<p class="doc doc-class-bases">
              Bases: <code><span title="django.db.models.Model">Model</span></code></p>
<p>Stores data for sponsors of bills. Represents a many-to-many relationship:
one bill may have many sponsors, and one sponsor may have many bills.</p>
<p>This table is queried by frontend views that show bill information,
including sponsor information.</p>
<p>Connects to:</p>
<ul>
<li>Bills (on bill_id ForeignKey)</li>
</ul>
<p><span class="doc-section-title">Attributes:</span></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="doc-section-item">
<td><code><span title="apps.core.models.SponsorsTable.id">id</span></code></td>
<td>
<code>(<span title="Varchar">Varchar</span>, <span title="PrimaryKey">PrimaryKey</span>, <span title="unique">unique</span>)</code>
</td>
<td>
<div class="doc-md-description">
<p>Internal id of the sponsor. Separate from sponsor_id
as sponsor_id comes from OpenStates and may be null.</p>
</div>
</td>
</tr>
<tr class="doc-section-item">
<td><code><span title="apps.core.models.SponsorsTable.sponsor_id">sponsor_id</span></code></td>
<td>
<code><span title="Varchar">Varchar</span></code>
</td>
<td>
<div class="doc-md-description">
<p>sponsor_id from OpenStates.</p>
</div>
</td>
</tr>
<tr class="doc-section-item">
<td><code><span title="apps.core.models.SponsorsTable.sponsor_name">sponsor_name</span></code></td>
<td>
<code><span title="Varchar">Varchar</span></code>
</td>
<td>
<div class="doc-md-description">
<p>Name of the bill sponsor.</p>
</div>
</td>
</tr>
<tr class="doc-section-item">
<td><code><span title="apps.core.models.SponsorsTable.bill_id">bill_id</span></code></td>
<td>
<code>(<span title="Varchar">Varchar</span>, <span title="ForeignKey">ForeignKey</span>)</code>
</td>
<td>
<div class="doc-md-description">
<p><code>bill_id</code> from the bills table, the bill that the sponsor has sponsored.</p>
</div>
</td>
</tr>
<tr class="doc-section-item">
<td><code><span title="apps.core.models.SponsorsTable.position">position</span></code></td>
<td>
<code>(<span title="Varchar">Varchar</span>, <span title="nullable">nullable</span>)</code>
</td>
<td>
<div class="doc-md-description">
<p>The position (e.g., Member of the State House, Member
of the State Senate) that the sponsor occupies.</p>
</div>
</td>
</tr>
<tr class="doc-section-item">
<td><code><span title="apps.core.models.SponsorsTable.party">party</span></code></td>
<td>
<code>(<span title="Varchar">Varchar</span>, <span title="nullable">nullable</span>)</code>
</td>
<td>
<div class="doc-md-description">
<p>The political party of the sponsor.</p>
</div>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>apps\core\models.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">SponsorsTable</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Stores data for sponsors of bills. Represents a many-to-many relationship:</span>
<span class="sd">    one bill may have many sponsors, and one sponsor may have many bills.</span>

<span class="sd">    This table is queried by frontend views that show bill information,</span>
<span class="sd">    including sponsor information.</span>

<span class="sd">    Connects to:</span>

<span class="sd">    - Bills (on bill_id ForeignKey)</span>

<span class="sd">    Attributes:</span>
<span class="sd">        id (Varchar, PrimaryKey, unique):</span>
<span class="sd">            Internal id of the sponsor. Separate from sponsor_id</span>
<span class="sd">            as sponsor_id comes from OpenStates and may be null.</span>
<span class="sd">        sponsor_id (Varchar): sponsor_id from OpenStates.</span>
<span class="sd">        sponsor_name (Varchar): Name of the bill sponsor.</span>
<span class="sd">        bill_id (Varchar, ForeignKey):</span>
<span class="sd">            `bill_id` from the bills table, the bill that the sponsor has sponsored.</span>
<span class="sd">        position (Varchar, nullable):</span>
<span class="sd">            The position (e.g., Member of the State House, Member</span>
<span class="sd">            of the State Senate) that the sponsor occupies.</span>
<span class="sd">        party (Varchar, nullable): The political party of the sponsor.</span>
<span class="sd">    """</span>

    <span class="nb">id</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">unique</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">bill_id</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">"BillsTable"</span><span class="p">,</span> <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">CASCADE</span><span class="p">,</span> <span class="n">db_column</span><span class="o">=</span><span class="s2">"bill_id"</span><span class="p">)</span>
    <span class="n">sponsor_id</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">sponsor_name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">()</span>
    <span class="n">position</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">party</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">class</span><span class="w"> </span><span class="nc">Meta</span><span class="p">:</span>
        <span class="n">db_table</span> <span class="o">=</span> <span class="s2">"sponsors_table"</span>
</code></pre></div></td></tr></table></div>
</details>
<div class="doc doc-children">
</div>
</div>
</div><h2 id="topics">Topics</h2>
<div class="doc doc-object doc-class">
<div class="doc doc-contents first">
<p class="doc doc-class-bases">
              Bases: <code><span title="django.db.models.Model">Model</span></code></p>
<p>Stores data for topics associated with each bill. Represents a many-to-many relationship:
one bill may have many topics, one topic may have many bills associated with it.</p>
<p>This table is queried by frontend views that show bill information,
including topic information.</p>
<p>Connects to:</p>
<ul>
<li>Bills (on bill_id ForeignKey)</li>
</ul>
<p><span class="doc-section-title">Attributes:</span></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="doc-section-item">
<td><code><span title="apps.core.models.TopicsTable.id">id</span></code></td>
<td>
<code>(<span title="Bigint">Bigint</span>, <span title="PrimaryKey">PrimaryKey</span>)</code>
</td>
<td>
<div class="doc-md-description">
<p>ID of the topic.</p>
</div>
</td>
</tr>
<tr class="doc-section-item">
<td><code><span title="apps.core.models.TopicsTable.topic">topic</span></code></td>
<td>
<code><span title="Varchar">Varchar</span></code>
</td>
<td>
<div class="doc-md-description">
<p>Topic name.</p>
</div>
</td>
</tr>
<tr class="doc-section-item">
<td><code><span title="apps.core.models.TopicsTable.bill_id">bill_id</span></code></td>
<td>
<code>(<span title="Varchar">Varchar</span>, <span title="ForeignKey">ForeignKey</span>)</code>
</td>
<td>
<div class="doc-md-description">
<p><code>bill_id</code> from the bills table, the bill the topic is associated with.</p>
</div>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>apps\core\models.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">TopicsTable</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    Stores data for topics associated with each bill. Represents a many-to-many relationship:</span>
<span class="sd">    one bill may have many topics, one topic may have many bills associated with it.</span>

<span class="sd">    This table is queried by frontend views that show bill information,</span>
<span class="sd">    including topic information.</span>

<span class="sd">    Connects to:</span>

<span class="sd">    - Bills (on bill_id ForeignKey)</span>

<span class="sd">    Attributes:</span>
<span class="sd">        id (Bigint, PrimaryKey): ID of the topic.</span>
<span class="sd">        topic (Varchar): Topic name.</span>
<span class="sd">        bill_id (Varchar, ForeignKey):</span>
<span class="sd">            `bill_id` from the bills table, the bill the topic is associated with.</span>
<span class="sd">    """</span>

    <span class="n">bill_id</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">"BillsTable"</span><span class="p">,</span> <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">CASCADE</span><span class="p">,</span> <span class="n">db_column</span><span class="o">=</span><span class="s2">"bill_id"</span><span class="p">)</span>
    <span class="n">topic</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">()</span>

    <span class="k">class</span><span class="w"> </span><span class="nc">Meta</span><span class="p">:</span>
        <span class="n">db_table</span> <span class="o">=</span> <span class="s2">"topics_table"</span>
</code></pre></div></td></tr></table></div>
</details>
<div class="doc doc-children">
</div>
</div>
</div><h2 id="updates">Updates</h2>
<div class="doc doc-object doc-class">
<div class="doc doc-contents first">
<p class="doc doc-class-bases">
              Bases: <code><span title="django.db.models.Model">Model</span></code></p>
<p>A table storing periodic updates for bills.</p>
<p>This table is included in addition to the ActionsTable to provide a simple way to
to use the most recent action for notifications.</p>
<p>Connects to:</p>
<ul>
<li>Actions (on action_id ForeignKey)</li>
<li>Bills (on bill_id ForeignKey)</li>
</ul>
<p><span class="doc-section-title">Attributes:</span></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="doc-section-item">
<td><code><span title="apps.core.models.UpdatesTable.action_id">action_id</span></code></td>
<td>
<code>(<span title="Varchar">Varchar</span>, <span title="ForeignKey">ForeignKey</span>)</code>
</td>
<td>
<div class="doc-md-description">
<p><code>action_id</code> from the actions table, the bill the update is associated with.</p>
</div>
</td>
</tr>
<tr class="doc-section-item">
<td><code><span title="apps.core.models.UpdatesTable.topic">topic</span></code></td>
<td>
<code><span title="Varchar">Varchar</span></code>
</td>
<td>
<div class="doc-md-description">
<p>Topic name.</p>
</div>
</td>
</tr>
<tr class="doc-section-item">
<td><code><span title="apps.core.models.UpdatesTable.bill_id">bill_id</span></code></td>
<td>
<code>(<span title="Varchar">Varchar</span>, <span title="ForeignKey">ForeignKey</span>)</code>
</td>
<td>
<div class="doc-md-description">
<p><code>bill_id</code> from the bills table, the bill the update is associated with.</p>
</div>
</td>
</tr>
<tr class="doc-section-item">
<td><code><span title="apps.core.models.UpdatesTable.description">description</span></code></td>
<td>
<code><span title="Varchar">Varchar</span></code>
</td>
<td>
<div class="doc-md-description">
<p>Description of the update.</p>
</div>
</td>
</tr>
<tr class="doc-section-item">
<td><code><span title="apps.core.models.UpdatesTable.date">date</span></code></td>
<td>
<code><span title="DateTime">DateTime</span></code>
</td>
<td>
<div class="doc-md-description">
<p>Date of the update.</p>
</div>
</td>
</tr>
<tr class="doc-section-item">
<td><code><span title="apps.core.models.UpdatesTable.category">category</span></code></td>
<td>
<code>(<span title="Varchar">Varchar</span>, <span title="nullable">nullable</span>)</code>
</td>
<td>
<div class="doc-md-description">
<p>Category of the update.</p>
</div>
</td>
</tr>
<tr class="doc-section-item">
<td><code><span title="apps.core.models.UpdatesTable.chamber">chamber</span></code></td>
<td>
<code><span title="Varchar">Varchar</span></code>
</td>
<td>
<div class="doc-md-description">
<p>Chamber (House or Senate) associated with the update.</p>
</div>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>apps\core\models.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">UpdatesTable</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    A table storing periodic updates for bills.</span>

<span class="sd">    This table is included in addition to the ActionsTable to provide a simple way to</span>
<span class="sd">    to use the most recent action for notifications.</span>

<span class="sd">    Connects to:</span>

<span class="sd">    - Actions (on action_id ForeignKey)</span>
<span class="sd">    - Bills (on bill_id ForeignKey)</span>

<span class="sd">    Attributes:</span>
<span class="sd">        action_id (Varchar, ForeignKey):</span>
<span class="sd">            `action_id` from the actions table, the bill the update is associated with.</span>
<span class="sd">        topic (Varchar): Topic name.</span>
<span class="sd">        bill_id (Varchar, ForeignKey):</span>
<span class="sd">            `bill_id` from the bills table, the bill the update is associated with.</span>
<span class="sd">        description (Varchar): Description of the update.</span>
<span class="sd">        date (DateTime): Date of the update.</span>
<span class="sd">        category (Varchar, nullable): Category of the update.</span>
<span class="sd">        chamber (Varchar): Chamber (House or Senate) associated with the update.</span>
<span class="sd">    """</span>

    <span class="n">action_id</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">"ActionsTable"</span><span class="p">,</span> <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">CASCADE</span><span class="p">,</span> <span class="n">db_column</span><span class="o">=</span><span class="s2">"action_id"</span><span class="p">)</span>
    <span class="n">bill_id</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="s2">"BillsTable"</span><span class="p">,</span> <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">CASCADE</span><span class="p">,</span> <span class="n">db_column</span><span class="o">=</span><span class="s2">"bill_id"</span><span class="p">)</span>
    <span class="n">description</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">()</span>
    <span class="n">date</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">()</span>
    <span class="n">category</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">chamber</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">()</span>

    <span class="k">class</span><span class="w"> </span><span class="nc">Meta</span><span class="p">:</span>
        <span class="n">db_table</span> <span class="o">=</span> <span class="s2">"updates_table"</span>
        <span class="n">unique_together</span> <span class="o">=</span> <span class="p">(</span><span class="s2">"action_id"</span><span class="p">,</span> <span class="s2">"bill_id"</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
</details>
<div class="doc doc-children">
</div>
</div>
</div><h2 id="most-recent-upload">Most Recent Upload</h2>
<div class="doc doc-object doc-class">
<div class="doc doc-contents first">
<p class="doc doc-class-bases">
              Bases: <code><span title="django.db.models.Model">Model</span></code></p>
<p>A table that stores the most recent date that bills data were uploaded.</p>
<p>Used to determine whether or not a notification email should be sent, or
if there was an error uploading the bills.</p>
<p>Connects to:</p>
<ul>
<li>None</li>
</ul>
<p><span class="doc-section-title">Attributes:</span></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="doc-section-item">
<td><code><span title="apps.core.models.MostRecentUpload.id">id</span></code></td>
<td>
<code>(<span title="Bigint">Bigint</span>, <span title="PrimaryKey">PrimaryKey</span>)</code>
</td>
<td>
<div class="doc-md-description">
<p>ID of the upload.</p>
</div>
</td>
</tr>
<tr class="doc-section-item">
<td><code><span title="apps.core.models.MostRecentUpload.last_upload_date">last_upload_date</span></code></td>
<td>
<code><span title="Date">Date</span></code>
</td>
<td>
<div class="doc-md-description">
<p>Date of the last successful bill upload.</p>
</div>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>apps\core\models.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">MostRecentUpload</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    A table that stores the most recent date that bills data were uploaded.</span>

<span class="sd">    Used to determine whether or not a notification email should be sent, or</span>
<span class="sd">    if there was an error uploading the bills.</span>

<span class="sd">    Connects to:</span>

<span class="sd">    - None</span>

<span class="sd">    Attributes:</span>
<span class="sd">        id (Bigint, PrimaryKey): ID of the upload.</span>
<span class="sd">        last_upload_date (Date): Date of the last successful bill upload.</span>
<span class="sd">    """</span>

    <span class="n">last_upload_date</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateField</span><span class="p">()</span>

    <span class="k">class</span><span class="w"> </span><span class="nc">Meta</span><span class="p">:</span>
        <span class="n">db_table</span> <span class="o">=</span> <span class="s2">"most_recent_upload"</span>
</code></pre></div></td></tr></table></div>
</details>
<div class="doc doc-children">
</div>
</div>
</div><h2 id="user-notification-queue">User Notification Queue</h2>
<div class="doc doc-object doc-class">
<div class="doc doc-contents first">
<p class="doc doc-class-bases">
              Bases: <code><span title="django.db.models.Model">Model</span></code></p>
<p>A table to store user notifications in a queue, with all bills to update on bundled in a single notification.</p>
<p>Connects to:</p>
<ul>
<li>Users (on user_id)</li>
</ul>
<p><span class="doc-section-title">Attributes:</span></p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="doc-section-item">
<td><code><span title="apps.core.models.UserNotificationQueue.id">id</span></code></td>
<td>
<code>(<span title="Bigint">Bigint</span>, <span title="PrimaryKey">PrimaryKey</span>)</code>
</td>
<td>
<div class="doc-md-description">
<p>ID of the queue entry.</p>
</div>
</td>
</tr>
<tr class="doc-section-item">
<td><code><span title="apps.core.models.UserNotificationQueue.user_id">user_id</span></code></td>
<td>
<code><span title="ForeignKey">ForeignKey</span></code>
</td>
<td>
<div class="doc-md-description">
<p>The user_id of the user to be notified.</p>
</div>
</td>
</tr>
<tr class="doc-section-item">
<td><code><span title="apps.core.models.UserNotificationQueue.number_of_notifications">number_of_notifications</span></code></td>
<td>
<code><span title="Int">Int</span></code>
</td>
<td>
<div class="doc-md-description">
<p>Number of notifications for a user on a given day.</p>
</div>
</td>
</tr>
<tr class="doc-section-item">
<td><code><span title="apps.core.models.UserNotificationQueue.bills_to_notify">bills_to_notify</span></code></td>
<td>
<code><span title="Array">Array</span></code>
</td>
<td>
<div class="doc-md-description">
<p>A list of the bill ids that the user needs to be updated on.</p>
</div>
</td>
</tr>
<tr class="doc-section-item">
<td><code><span title="apps.core.models.UserNotificationQueue.is_notified">is_notified</span></code></td>
<td>
<code><span title="Boolean">Boolean</span></code>
</td>
<td>
<div class="doc-md-description">
<p>Whether or not a notification email has been sent to the user.</p>
</div>
</td>
</tr>
</tbody>
</table>
<details class="quote">
<summary>Source code in <code>apps\core\models.py</code></summary>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">UserNotificationQueue</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
<span class="w">    </span><span class="sd">"""</span>
<span class="sd">    A table to store user notifications in a queue, with all bills to update on bundled in a single notification.</span>

<span class="sd">    Connects to:</span>

<span class="sd">    - Users (on user_id)</span>

<span class="sd">    Attributes:</span>
<span class="sd">        id (Bigint, PrimaryKey): ID of the queue entry.</span>
<span class="sd">        user_id (ForeignKey): The user_id of the user to be notified.</span>
<span class="sd">        number_of_notifications (Int): Number of notifications for a user on a given day.</span>
<span class="sd">        bills_to_notify (Array): A list of the bill ids that the user needs to be updated on.</span>
<span class="sd">        is_notified (Boolean): Whether or not a notification email has been sent to the user.</span>
<span class="sd">    """</span>

    <span class="n">user_id</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">OneToOneField</span><span class="p">(</span><span class="n">User</span><span class="p">,</span> <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">CASCADE</span><span class="p">,</span> <span class="n">db_column</span><span class="o">=</span><span class="s2">"user_id"</span><span class="p">)</span>
    <span class="n">number_of_notifications</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">IntegerField</span><span class="p">()</span>
    <span class="n">bills_to_notify</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">JSONField</span><span class="p">()</span>
    <span class="n">is_notified</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">BooleanField</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="k">class</span><span class="w"> </span><span class="nc">Meta</span><span class="p">:</span>
        <span class="n">db_table</span> <span class="o">=</span> <span class="s2">"user_notification_queue"</span>
</code></pre></div></td></tr></table></div>
</details>
<div class="doc doc-children">
</div>
</div>
</div>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
<script src="../assets/javascripts/bundle.13a4f30d.min.js"></script>
<script type="module">import mermaid from "https://unpkg.com/mermaid@10.4.0/dist/mermaid.esm.min.mjs";
mermaid.initialize({});</script></body>
</html>